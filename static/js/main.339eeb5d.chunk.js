(this["webpackJsonpparticeep-react"]=this["webpackJsonpparticeep-react"]||[]).push([[0],{25:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),c=n(18),s=n.n(c),r=(n(25),n(2)),l=n(10),o=n(7),d=[{id:"1",title:"Oceans 8",category:"Comedy",likes:4,dislikes:1},{id:"2",title:"Midnight Sun",category:"Comedy",likes:2,dislikes:0},{id:"3",title:"Les indestructibles 2",category:"Animation",likes:3,dislikes:1},{id:"4",title:"Sans un bruit",category:"Thriller",likes:6,dislikes:6},{id:"5",title:"Creed II",category:"Drame",likes:16,dislikes:2},{id:"6",title:"Pulp Fiction",category:"Thriller",likes:11,dislikes:3},{id:"7",title:"Pulp Fiction",category:"Thriller",likes:12333,dislikes:32},{id:"8",title:"Seven",category:"Thriller",likes:2,dislikes:1},{id:"9",title:"Inception",category:"Thriller",likes:2,dislikes:1},{id:"10",title:"Gone Girl",category:"Thriller",likes:22,dislikes:12}],u=new Promise((function(e,t){return setTimeout(e,100,d)})),j=n(31),h=n(30),b=n(19),f=n(33),g=n(34),O=n(0),m=function(e){var t=e.title,n=e.category,i=e.likes,a=e.dislikes,c=e.onDelete,s=e.onLike,r=e.onDislike,l=e.id;return Object(O.jsx)(b.a,{md:"auto",children:Object(O.jsxs)(f.a,{className:"my-2",children:[Object(O.jsx)(f.a.Title,{className:"mx-3",children:t}),Object(O.jsxs)(f.a.Body,{children:[Object(O.jsx)(f.a.Text,{children:"Category: ".concat(n)}),Object(O.jsxs)(h.a,{className:"mx-1",children:[Object(O.jsx)(g.a,{variant:"light",as:b.a,onClick:function(){return s(l)},children:Object(O.jsx)("i",{className:"fas fa-thumbs-up"})}),Object(O.jsx)(g.a,{variant:"light",as:b.a,className:"mx-2",disabled:!0,children:i}),Object(O.jsx)(g.a,{variant:"light",as:b.a,onClick:function(){return r(l)},children:Object(O.jsx)("i",{className:"fas fa-thumbs-down"})}),Object(O.jsx)(g.a,{variant:"light",as:b.a,className:"mx-2",disabled:!0,children:a}),Object(O.jsx)(g.a,{variant:"light",as:b.a,onClick:function(){return c(l)},children:Object(O.jsx)("i",{className:"fas fa-trash"})})]})]})]})})},x="ALL",v=[4,8,12],k=function(e,t,n){var a=Object(i.useState)(0),c=Object(o.a)(a,2),s=c[0],r=c[1],l=Object(i.useState)(v[0]),d=Object(o.a)(l,2),u=d[0],j=d[1];return Object(i.useEffect)((function(){var i=n.length,a=Math.min((e-1)*t,i),c=Math.min(e*t,i);r(a),j(c)}),[e,t,n]),{firstElementIndex:s,lastElementIndex:u,visibleMovies:n.slice(s,u)}},p=n(20),y=n(32),w=function(e){var t=e.categories,n=e.handleChangeCategory;return Object(O.jsx)(b.a,{xs:3,children:Object(O.jsx)(p.a,{controlId:"floating-category",label:"Category",children:Object(O.jsx)(y.a.Select,{"aria-label":"Category",onChange:n,children:t.map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))})})})},N=function(e){var t=e.page,n=e.firstElementIndex,i=e.lastElementIndex,a=e.nbElements,c=e.handleChangeNbElements,s=e.handlePrevious,r=e.handleNext;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(b.a,{xs:3,children:Object(O.jsx)(p.a,{controlId:"floating-nbelements",label:"Number",children:Object(O.jsx)(y.a.Select,{"aria-label":"Number",onChange:c,children:v.map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))})})}),Object(O.jsx)(g.a,{variant:"light",as:b.a,xs:"auto",className:"my-2",onClick:s,children:Object(O.jsx)("i",{className:"fas fa-arrow-left"})}),Object(O.jsx)(g.a,{variant:"light",as:b.a,xs:"auto",className:"my-2 mx-2",disabled:!0,children:"".concat(t)}),Object(O.jsx)(g.a,{variant:"light",as:b.a,xs:"auto",className:"my-2",onClick:r,children:Object(O.jsx)("i",{className:"fas fa-arrow-right"})}),Object(O.jsx)(b.a,{className:"my-2 mx-2",xs:3,children:"Elements ".concat(n+1,"-").concat(i," of ").concat(a)})]})},C=function(e,t){return 0===t?1:Math.max(Math.ceil(e/t),1)},S=function(){var e=Object(i.useState)(!0),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)([]),s=Object(o.a)(c,2),d=s[0],b=s[1];Object(i.useEffect)((function(){u.then((function(e){a(!1),b(e)}))}),[]);var f=Object(i.useState)(x),g=Object(o.a)(f,2),p=g[0],y=g[1],S=Object(i.useState)(1),E=Object(o.a)(S,2),I=E[0],M=E[1],T=Object(i.useState)(v[0]),D=Object(o.a)(T,2),L=D[0],W=D[1],A=Object(i.useState)([]),P=Object(o.a)(A,2),B=P[0],F=P[1],R=Object(i.useState)([]),U=Object(o.a)(R,2),G=U[0],J=U[1];Object(i.useEffect)((function(){var e=[x].concat(Object(l.a)(new Set(d.filter((function(e){return!e.isDeleted})).map((function(e){return e.category}))))),t=d.filter((function(e){return!e.isDeleted&&(p===x||p===e.category)}));-1===e.indexOf(p)&&y(x);var n=C(t.length,L);F(e),J(t),I>n&&M(Math.max(n,1))}),[d,p,L,I]);var $=function(e){var t=d.findIndex((function(t){return t.id===e})),n=[].concat(Object(l.a)(d.slice(0,t)),[Object.assign(Object(r.a)({},d[t]),{isDeleted:!0})],Object(l.a)(d.slice(t+1,d.length)));b(n)},q=function(e){var t=d.findIndex((function(t){return t.id===e})),n=d[t],i=n.likes,a=n.isLiked;b([].concat(Object(l.a)(d.slice(0,t)),[Object.assign(Object(r.a)({},d[t]),{likes:a?i-1:i+1,isLiked:!a})],Object(l.a)(d.slice(t+1,d.length))))},z=function(e){var t=d.findIndex((function(t){return t.id===e})),n=d[t],i=n.dislikes,a=n.isDisliked;b([].concat(Object(l.a)(d.slice(0,t)),[Object.assign(Object(r.a)({},d[t]),{dislikes:a?i-1:i+1,isDisliked:!a})],Object(l.a)(d.slice(t+1,d.length))))},H=k(I,L,G),K=H.firstElementIndex,Q=H.lastElementIndex,V=H.visibleMovies;return n?Object(O.jsx)("h1",{children:"Loading ..."}):Object(O.jsxs)(j.a,{fluid:!0,children:[Object(O.jsxs)(h.a,{className:"my-1",children:[Object(O.jsx)(w,{categories:B,handleChangeCategory:function(e){y(e.target.value)}}),Object(O.jsx)(N,{page:I,firstElementIndex:K,lastElementIndex:Q,nbElements:G.length,handleChangeNbElements:function(e){W(e.target.value)},handleNext:function(){var e=C(G.length,L);M(Math.min(e,I+1))},handlePrevious:function(){M(Math.max(1,I-1))}})]}),Object(O.jsx)(h.a,{className:"justify-content-md-left",children:V.map((function(e){return Object(O.jsx)(m,Object(r.a)(Object(r.a)({},e),{},{onDelete:$,onLike:q,onDislike:z}),e.id)}))})]})},E=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(S,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/movies-react-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/movies-react-app","/service-worker.js");E?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):I(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):I(t,e)}))}}()}},[[29,1,2]]]);
//# sourceMappingURL=main.339eeb5d.chunk.js.map